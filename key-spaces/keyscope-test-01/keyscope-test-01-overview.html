<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Keyscope Test 01 Description</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="schema.DC" href="http://purl.org/dc/terms/"><meta name="DC.Type" content="topic"><meta name="description" content="Verifies that keys defined on topicrefs that also specify @keyscope are in the specified scope and not the parent scope."><meta name="DC.Format" content="XHTML"><meta name="DC.Identifier" content="topic_xgt_12n_cv"><script type="text/javascript">var d4p = {"relativePath":"..\/..\/","dev":false,"debug":false,"draft":false,"nextTopicHref":"this-topic-fragment-ids\/this_topic_fragment_identifiers.html","previousTopicHref":"key-spaces\/branch-filtering-name-augmentation-01\/branch-filtering-name-augmentation-01.html","ext":".html","root":false,"topic":{"chunked":""},"map":{"title":"Test Case Catalog","chunked":false},"search":{"minlength":2},"l":{"searchPageHeading":"Search Results","close":"Close"}}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="../../themes/dita-d4p-classic/css/style.css"><link rel="stylesheet" type="text/css" media="screen, projection, print" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,
          
          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,
          
          // Optional callback... myCallback(i, width)
          callback: doc_resize,
          
          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  = mobile.css',
             // medium (size-1, size-2)
            '760px  to 980px  = 720.css',
            '980px  to 1270px = 960.css',
             // large (size-3, size-5)
            '1270px to 1600px = 1200.css',
            '1600px to 1940px = 1560.css',
             // extra large (size-6)
            '1940px to 2540px = 1920.css',
            '2540px           = 2520.css'
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="../../themes/dita-d4p-classic/js/script.js"></script></head><body class="en-us dita-d4p-classic centered navigation-default"><div id="d4h5-main-container" class="container_12" role="application"><header role="banner" aria-labelledby="publication-title" class="hide-for-small"><div class="grid_8"><h1 id="publication-title">Test Case Catalog</h1></div><section class="grid_4 search-box"><form id="search" role="search"><div class="form-group"><input id="search-text" type="text" autocomplete="off" class="form-control" placeholder="Search"></div></form></section><secion class="clearfix"></secion></header><div id="d4h5-section-container" class="grid_12"><nav id="local-navigation" class="grid_4 alpha omega" role="navigation" aria-label="Main navigation"><div id="nav-content"><ul><li><a href="../../index.html">Table of Contents</a></li><li class="collapsible active"><a href="../../test-case-catalog.html">Test Case Catalog</a><ul><li class="collapsible active"><a href="../key-spaces-tests.html">Key Space Tests</a><ul><li><a href="../branch-filtering-name-augmentation-01/branch-filtering-name-augmentation-01.html">Branch Filtering Name Augmentation Test 01</a></li><li class=" active"><a href="keyscope-test-01-overview.html" class=" selected">Keyscope Test 01 Description</a></li></ul></li><li class="collapsible collapsed"><a href="../../this-topic-fragment-ids/this_topic_fragment_identifiers.html">This-Topic Fragment Identifiers</a><ul><li><a href="../../this-topic-fragment-ids/this-topic-fragment-ids-test-01.html">This-Topic Fragment ID Test 01</a></li></ul></li></ul></li></ul></div></nav><div id="d4h5-main-content" class="grid_8 alpha omega"><article><nav id="content-toolbar" class="toolbar hide-for-small"></nav><section id="page"><div><a id="topic_xgt_12n_cv" class="anchor"></a> <h1 class="title topictitle1">Keyscope Test 01 Description</h1> <div class="body"><p class="shortdesc">Verifies that keys defined on topicrefs that also specify <samp class="ph codeph">@keyscope</samp> are in the specified scope and not the parent scope.</p> <div class="section" id="topic_xgt_12n_cv-d1012e14"><h2 class="sectiontitle">Overview</h2> <div class="p">This map has two topicrefs. Each topicref defines both a key scope and a key name, with a reference to a unique topic:<pre class="pre codeblock">  &lt;topicref id="tr-scope-01"
    keyscope="scope-01"
    keys="topic-01"
    href="topics/topic-01.dita"/&gt;
  &lt;topicref id="tr-scope-02"
    keyscope="scope-02"
    keys="topic-01"
    href="topics/topic-02.dita"
    /&gt;</pre></div> <div class="p">To refer to the key "topic-01" from outside the scope "scope-01", the correct key reference is "scope-01.topic-01", as used in the xref from <span class="ph filepath">topic-02.dita</span>:<pre class="pre codeblock">&lt;xref keyref="scope-01.topic-01"/&gt;</pre></div> <p class="p">The topic <span class="ph filepath">topic-01.dita</span> has the equivalent qualified key reference to <span class="ph filepath">topic-02.dita</span> as used from topicref "tr-scope-02".</p> </div> <div class="section" id="topic_xgt_12n_cv-d1012e39"><h2 class="sectiontitle">Expected Result</h2> <p class="p">The xref to key "scope-01.topic-01" should be resolved to topic-01.dita as used by topicref "tr-scope-01".</p> </div> <div class="section" id="topic_xgt_12n_cv-d1012e45"><h2 class="sectiontitle">Relevant Specification Clauses</h2> <div class="p">The relevant spec language is in clause 2.3.4.2, Key Scopes (<a class="xref external" href="http://docs.oasis-open.org/dita/dita/v1.3/os/part3-all-inclusive/archSpec/base/keyScopes.html">http://docs.oasis-open.org/dita/dita/v1.3/os/part3-all-inclusive/archSpec/base/keyScopes.html</a>):<blockquote class="lq">A key scope includes the following components: <ul class="ul" id="topic_xgt_12n_cv__ul_r2v_p2n_cv"> <li class="li"><em class="ph i">The scope-defining element</em> </li> <li class="li">The elements that are contained by the scope-defining element, minus the elements that are contained by child key scopes </li> <li class="li">The elements that are referenced by the scope-defining element or its descendants, minus the elements that are contained by child key scopes</li> </ul><p class="p">(Italics added)</p></blockquote></div> </div> <div class="section" id="topic_xgt_12n_cv-d1012e72"><h2 class="sectiontitle">Test Results</h2> <div class="tablenoborder"><table id="topic_xgt_12n_cv__table_t4w_rgn_cv" class="table"><caption xmlns="http://www.w3.org/1999/xhtml"><span class="tablecap"><span class="tablecap">Test Results</span></span></caption> <thead class="thead" align="left"> <tr class="row"> <th class="entry" valign="top" width="33.33333333333333%" id="d1012e91">Processor</th> <th class="entry" valign="top" width="33.33333333333333%" id="d1012e94">Test Result</th> <th class="entry" valign="top" width="33.33333333333333%" id="d1012e97">Notes</th> </tr> </thead> <tbody class="tbody"> <tr class="row"> <td class="entry" valign="top" width="33.33333333333333%" headers="d1012e91 ">Open Toolkit 2.2.2, XHTML transform</td> <td class="entry" valign="top" width="33.33333333333333%" headers="d1012e94 ">Correct result</td> <td class="entry" valign="top" width="33.33333333333333%" headers="d1012e97 ">Incorrectly reports the key "topic-01" in scope "scope-02" as a duplicate.</td> </tr> <tr class="row"> <td class="entry" valign="top" width="33.33333333333333%" headers="d1012e91 ">Open Toolkit 2.2.2, PDF transform</td> <td class="entry" valign="top" width="33.33333333333333%" headers="d1012e94 ">Correct result</td> <td class="entry" valign="top" width="33.33333333333333%" headers="d1012e97 ">Incorrectly reports the key "topic-01" in scope "scope-02" as a duplicate.</td> </tr> <tr class="row"> <td class="entry" valign="top" width="33.33333333333333%" headers="d1012e91 ">oXygenXML 17.1</td> <td class="entry" valign="top" width="33.33333333333333%" headers="d1012e94 ">Reports map as valid, resolves links correctly.</td> <td class="entry" valign="top" width="33.33333333333333%" headers="d1012e97 ">&nbsp;</td> </tr> <tr class="row"> <td class="entry" valign="top" width="33.33333333333333%" headers="d1012e91 ">XMetaL 10</td> <td class="entry" valign="top" width="33.33333333333333%" headers="d1012e94 ">Appears to resolve the key references in the editor but without regard to the scope context. In the re-used topic, it reflects the result of resolving the key reference in the scope of scope-01</td> <td class="entry" valign="top" width="33.33333333333333%" headers="d1012e97 ">This seems to be a side effect of XMetaL using PIs to put the resolved link text in the XML source, rather than resolving the reference dynamically at presentation time.</td> </tr> </tbody> </table></div> </div> </div> <footer id="topicsNPLinks"><div id="footer_previous"><a href="../../key-spaces/branch-filtering-name-augmentation-01/branch-filtering-name-augmentation-01.html" class="previous" rel="internal">Branch Filtering Name Augmentation Test 01</a></div><div id="footer_next"><a href="../../this-topic-fragment-ids/this_topic_fragment_identifiers.html" class="next" rel="internal">This-Topic Fragment Identifiers</a></div></footer></div></section></article><div class="clear"></div></div><div class="clearfix"></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"></div></div></body></html>